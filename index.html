<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Lista de tarefas</title>

  <meta name="description" content="Uma lista de tarefas simples feita com Alpine.js. Adicione, marque como concluída e remova tarefas de forma rápida e leve.">
  <meta name="keywords" content="to-do list, lista de tarefas, Alpine.js">
  <meta name="author" content="Graciano Júnior Leite André">

  <link rel="stylesheet" href="style.css">
  <script src="alpine.js" defer></script>

</head>
<body>

  
  <div class="container" x-data="{
    tarefas: [],
    novaTarefa: '',
    adicionar() {
      if (this.novaTarefa.trim()) {
        this.tarefas.push({ texto: this.novaTarefa, feito: false });
        this.novaTarefa = '';
      }
    },
    remover(index) {
      this.tarefas.splice(index, 1);
    },
    pendentes() {
      return this.tarefas.filter(t => !t.feito).length;
    }
  }">

    <h1>Lista de Tarefas</h1>

    <form action="" @submit.prevent="adicionar">
      <input type="text" x-model="novaTarefa" placeholder="Nova tarefa...">
      <button type="submit"> Adicionar</button>
    </form>

    <template x-if="tarefas.length === 0">
      <p class="pendentes">Nenhuma tarefa adicionada.</p>
    </template>

    <ul>
        <template x-for="(tarefa, index) in tarefas" :key="index">
          <li>
            <div class="tarefa-texto">
              <input type="checkbox" x-model="tarefa.feito">
              <span :class="{ 'feito': tarefa.feito }" x-text="tarefa.texto"></span>
            </div>
            <button class="remover" @click="remover(index)">
              Remover
            </button>
          </li>
        </template>
    </ul>

    <p class="pendentes" x-text="'Tarefas pendentes: ' + pendentes()"></p>
  </div>

</body>
</html>